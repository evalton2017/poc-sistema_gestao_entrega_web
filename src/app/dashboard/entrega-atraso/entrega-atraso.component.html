<ngx-loading
[show]="loading"
[config]="{ backdropBorderRadius: '3px' }"
></ngx-loading>
<div class="container">
  <div class="row justify-content-md-center">
    <div class="row" style="margin-top: 5%">
      <div class="md-8">
        <div id="grafico_entregas" style="width: 800px; height: 400px;" ></div>
      </div>

      <div class="md-4">
        <sge-filtro (filtros)="recebeFiltros($event)"></sge-filtro>
      </div>

      <div class="md-8" *ngIf="relatorioEntrega.length >0">
            <table mat-table [dataSource]="dataSource">
              <!-- Position Column -->
              <ng-container matColumnDef="transportadora">
                <th mat-header-cell *matHeaderCellDef> TRANSPORTADORA </th>
                <td mat-cell *matCellDef="let element"> {{element.nomeTransportadora}} </td>
              </ng-container>

              <!-- Name Column -->
              <ng-container matColumnDef="pedido">
                <th mat-header-cell *matHeaderCellDef> PEDIDO </th>
                <td mat-cell *matCellDef="let element"> {{element.numeroPedido}} </td>
              </ng-container>

              <!-- Weight Column -->
              <ng-container matColumnDef="dataEstimada">
                <th mat-header-cell *matHeaderCellDef> DATA ESTIMADA ENTREGA </th>
                <td mat-cell *matCellDef="let element"> {{element.dataEntregaEstimada | date: 'dd/MM/yyyy'}} </td>
              </ng-container>

              <!-- Symbol Column -->
              <ng-container matColumnDef="dataEntrega">
                <th mat-header-cell *matHeaderCellDef> DATA ENTREGA </th>
                <td mat-cell *matCellDef="let element"> {{element.dataEntrega | date: 'dd/MM/yyyy'}} </td>
              </ng-container>

              <ng-container matColumnDef="atraso">
                <th mat-header-cell *matHeaderCellDef> DIAS ATRASO </th>
                <td mat-cell *matCellDef="let element"> {{element.diasAtraso}} </td>
              </ng-container>

              <ng-container matColumnDef="estado">
                <th mat-header-cell *matHeaderCellDef> ESTADO </th>
                <td mat-cell *matCellDef="let element"> {{element.estado}} </td>
              </ng-container>

              <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
              <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>

            </table>

            <mat-paginator [pageSizeOptions]="[5, 10, 25, 100]" aria-label="proximos"></mat-paginator>

          </div>

          <div *ngIf="relatorioEntrega.length == 0">
            <p>Nenhum dado encontrado!</p>
          </div>

      </div>
  </div>
</div>

